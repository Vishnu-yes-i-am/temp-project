<div class="searchSettings" id="settingShow" [ngClass]="searchFilter.isOpen ? 'settingFade' : 'settingFadeout'">
	<div class="settingTabShow" (click)="searchFilter.isOpen = false">
		<i class="fas fa-times"></i>
	</div>
	<form action="" class="recordSetting">
		<div class="settingTitle">
			<h4>Power Search</h4>
		</div>
        <ng-template ngFor let-item [ngForOf]="searchFilter.filterItems" let-i="index">
            <div class="row">
                <div class="form-group col-md-4">
                    <label>Criteria</label>
                    <select name="criteria-{{i}}" class="type" [(ngModel)]="item.criteriaID">
                        <option value='0'>--Select--</option>
                        <option *ngFor="let option of searchFilter.criteriaOptions;" [value]="option.criteriaID">{{option.maptext}}</option>
                    </select>
                </div>
                <div class="form-group col-md-3">
                    <label for="operation-{{i}}">Operation</label>
                    <select name="operation-{{i}}" class="type" [(ngModel)]="item.operation">
                        <option value="0">Equals</option>
                        <option value="1">Contains</option>
                        <option value="2">Does not equal</option>
                        <option value="3">Does not contain</option>
                    </select>
                </div>
                <div class="form-group col-md-4">
                    <label for="">Value</label>
                    <input name="value-{{i}}" type="text" class="form-control" [(ngModel)]="item.value"/>
                </div>
                <div class="form-group col-md-1" (click)="removeAt(i)" *ngIf="searchFilter.filterItems.length > 1">
                    <i class="fas fa-times"></i>
                </div>
            </div>
            <div class="row">
                <div class="btn-group" role="group" aria-label="Basic example">
                    <button type="button" class="btn {{item.nextItemLink === 'x' ? 'btn-info' : 'btn-secondary'}}" (click)="addNew(i, 'x')">And</button>
                    <button type="button" class="btn {{item.nextItemLink === '+' ? 'btn-info' : 'btn-secondary'}}" (click)="addNew(i, '+')">Or</button>
                </div>
            </div>
        </ng-template>
		<div class="submitSetting">
			<button (click)="doPowerSearch()">Search</button>
		</div>
	</form>
</div>